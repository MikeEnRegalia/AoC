package aoc2018.day17

import aoc2018.day18.day18Settlers
import io.kotest.matchers.shouldBe
import org.junit.jupiter.api.Test

private const val INPUT = """.|....|.|.#|.#..|.#..||#..|.||#|#|||.....#......#.
.....||..||.|#.......#.|.....|....#..|..|.|.#..|.#
.#.#......|#.#..|......|.......|.|.|..#.#......#|.
.#.....#..|..#..|#..|#|......#...#||.|...##...#..|
|......|..#.#.#....|..#..#..#|##....#.....|.|#..#.
.....|..#....#..|.#.....|..#...|###.|||###...#.||.
|...##.#..|...||.....#.|.#|#|........#.|#|..|..#.|
.....|......|........#...#..|||||#|#||.|...|...#..
.....||..#.||.......|..|.|##..##|#..|.#..|#.##.#..
.|#.#|..||.|.|.|..|.|...|#.|.|..##.|#.#..|...|#||.
.|||....#||##..#.....|#...#....|.#|..#|.|...|###.#
#...|....|......#..#.#......||.||....#|##....#|#|#
|.|....#.#|#..|....|.#...|.|||.|.|#|....#..|......
#...|.....#...#|................|..#||#|....#.....
..||....#..|.....|||..#|...|#|.#.|..#|..|.|#|....#
....##|##|.|#.#.|||#.#..|...#|.|.###.#.|......|||#
.....##|.|.#...#..#.........|..|...#.|...#...|....
##.#.#...#.|..|||#...||..#|#.#||#|#|..#.##....|...
#.|..#||.|#|....#...##.....|.#..#....|...|#.|#....
||.##...|...|..|...#......|.##.#.#|..#.#.|.......#
#....#|..#.......|||......|..#........|..|..#..|..
.|.........####..|.|....#....##.|....|...#|.|.||..
......##|#.#...#...|||......|.#.|||...||........|.
#.|..|...#.#....#|......||......|.....#...#....#..
...|.|#|#.............#.||.|..|####..|..#.##|.||#.
..#..|...||#....#.#..#.|..|#|.||.#...|||#..#|..#..
#|#|..||#|.|..|...|.....#..#..#..|#.|#....|.||||..
....##||...|#|..#.|#....|...|.#.|...#...|#.##.#.#.
...|||||.#...###.|#.|.|......#...|...|...##.#.#|.|
|.|..##...|...|.......||..|..#.#|..|.|#|||....||..
..|.#|.#.|.|..|.#.|.##..|..|.#|.......#.....#.#.|.
...#...|..#.........#..##...........#....|..#.....
.#...|....|#|#.##.......#......|#..|.|...........#
|......#.#||.#.||..|......|....#..#|...##...|#...|
|.#..##||.........|||.#.#.##|#||##......|||.#..##|
|...|.|#|...#.##|..#..#||||||.||#|.#...#|....#|.||
||#..|.#.......||.|....#..|..|#.......#||.|##|....
|.|..#.||##...##.....#............||.|#|.....##...
#.#..|..||.|.|#.......#|..#..|.#|........#.##.####
...#.|.|.#|...#.#..|.....|.#.#.|......#|.||.|.....
.|.##...#.#||.##.#.||...#...|||...|.##..##..|##...
..##.|...#....|.#..||....|..##..#|.||...#..#......
...##.#.|||......|..|#.|..#.|#.....|#|....#..#|.#|
.#.||.|#.##..||.#.||||#..##.##..#.....#.##.#.#.#.|
.#|#|.....#..#..##.......|.|#|....#.........#|....
#....|.#..|.#|##.##...|...|..#.|....#.#.||.#.#....
.####|.....|.|..#...|.#|#...#...||.#|.|.|..|#.....
##|#.#.........|.......#...#....||#|..|##...#.#|.#
###||#.#|....#.......|...#.#.#....|#|#|#..|..|#|#.
.|...#..#..|.....##|#....|||#..#...|..#.|...|##|.."""

internal class AoC12018Day18KtTest {

    @Test
    fun test() {
        day18Settlers(
            """.#.#...|#.
.....#|##|
.|..|...#.
..|#.....#
#.#|||#|#|
...#.||...
.|....|...
||...#|.#|
|.||||..|.
...#.|..|."""
        ) shouldBe 1147
    }

    @Test
    fun testPart1() {
        day18Settlers(INPUT) shouldBe 646437
    }

    @Test
    fun testPart2() {
        day18Settlers(INPUT, 1000000000L) shouldBe 208080
    }
}